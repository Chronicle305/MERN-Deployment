{"ast":null,"code":"import _defineProperty from\"C:/Users/morto/Documents/MernRedBeltExam/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/morto/Documents/MernRedBeltExam/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/morto/Documents/MernRedBeltExam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import axios from'axios';import{useNavigate,Link}from'react-router-dom';import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Edit=function Edit(props){var _useParams=useParams(),_id=_useParams._id;var navigate=useNavigate();// form variables to handle and contain form data from axios call\nvar _useState=useState({name:\"\",type:\"\",description:\"\",skill1:\"\",skill2:\"\",skill3:\"\"}),_useState2=_slicedToArray(_useState,2),myForm=_useState2[0],setmyForm=_useState2[1];// useEffect to retrieve database data and set it to the form\nuseEffect(function(){axios.get(\"http://localhost:8000/api/pets/\"+_id).then(function(res){return setmyForm(res.data[0]);}).catch(function(err){return console.log(err);});},[_id]);var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var onChangeHandler=function onChangeHandler(e){setmyForm(_objectSpread(_objectSpread({},myForm),{},_defineProperty({},e.target.name,e.target.value)));};// form submission handler\nvar handleFormSubmit=function handleFormSubmit(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pets/update/\"+_id,myForm)// logic validation\n.then(function(res){if(res.data.error){setError(res.data.error.errors);}else{// we want to navigate to the show one page\nnavigate(\"/\");}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success float-left\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Know a pet needing a home?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleFormSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Pet Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-control\",value:myForm.name,onChange:onChangeHandler}),error.name?/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[\" \",error.name.message,\" \"]}):\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type\",children:\"Pet Type: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"type\",className:\"form-control\",value:myForm.type,onChange:onChangeHandler}),error.type?/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[\" \",error.type.message,\" \"]}):\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Pet Description: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",className:\"form-control\",value:myForm.description,onChange:onChangeHandler}),error.description?/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[\" \",error.description.message,\" \"]}):\"\"]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Skills (Optional):\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill1\",children:\"Skill 1: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill1\",className:\"form-control\",value:myForm.skill1,onChange:onChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill2\",children:\"Skill 2: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill2\",className:\"form-control\",value:myForm.skill2,onChange:onChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill3\",children:\"Skill 3: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill3\",className:\"form-control\",value:myForm.skill3,onChange:onChangeHandler})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Edit Pet\",className:\"btn btn-info\"})})]})})})]});};export default Edit;","map":{"version":3,"names":["useEffect","useState","axios","useNavigate","Link","useParams","Edit","props","_id","navigate","name","type","description","skill1","skill2","skill3","myForm","setmyForm","get","then","res","data","catch","err","console","log","error","setError","onChangeHandler","e","target","value","handleFormSubmit","preventDefault","put","errors","message"],"sources":["C:/Users/morto/Documents/MernRedBeltExam/client/src/components/Edit.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst Edit = props => {\r\n    const { _id } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    // form variables to handle and contain form data from axios call\r\n    const [myForm, setmyForm] = useState({\r\n        name: \"\",\r\n        type: \"\",\r\n        description: \"\",\r\n        skill1: \"\",\r\n        skill2: \"\",\r\n        skill3: \"\"\r\n    });\r\n\r\n    // useEffect to retrieve database data and set it to the form\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:8000/api/pets/\" + _id)\r\n            .then(res => setmyForm(res.data[0]))\r\n            .catch(err => console.log(err))\r\n    }, [_id])\r\n\r\n\r\n    const [error, setError] = useState({});\r\n\r\n    const onChangeHandler = e => {\r\n        setmyForm({ ...myForm, [e.target.name]: e.target.value })\r\n    }\r\n\r\n    // form submission handler\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault();\r\n        axios.put(\"http://localhost:8000/api/pets/update/\" + _id, myForm)\r\n            // logic validation\r\n            .then(res => {\r\n                if (res.data.error) {\r\n                    setError(res.data.error.errors)\r\n                } else {\r\n                    // we want to navigate to the show one page\r\n                    navigate(\"/\")\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Link to=\"/\"><button className=\"btn btn-success float-left\">Home</button></Link>\r\n            <h2>Know a pet needing a home?</h2>\r\n            <div className=\"container\">\r\n                <form onSubmit={handleFormSubmit}>\r\n                    <div className=\"row\">\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"name\">Pet Name: </label>\r\n                            <input type=\"text\" name=\"name\" className=\"form-control\" value={myForm.name} onChange={onChangeHandler} />\r\n                            {error.name ? <span className=\"text-danger\"> {error.name.message} </span> : \"\"}\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"type\">Pet Type: </label>\r\n                            <input type=\"text\" name=\"type\" className=\"form-control\" value={myForm.type} onChange={onChangeHandler} />\r\n                            {error.type ? <span className=\"text-danger\"> {error.type.message} </span> : \"\"}\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"description\">Pet Description: </label>\r\n                            <input type=\"text\" name=\"description\" className=\"form-control\" value={myForm.description} onChange={onChangeHandler} />\r\n                            {error.description ? <span className=\"text-danger\"> {error.description.message} </span> : \"\"}\r\n                        </div>\r\n                        <h2>Skills (Optional):</h2>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"skill1\">Skill 1: </label>\r\n                            <input type=\"text\" name=\"skill1\" className=\"form-control\" value={myForm.skill1} onChange={onChangeHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"skill2\">Skill 2: </label>\r\n                            <input type=\"text\" name=\"skill2\" className=\"form-control\" value={myForm.skill2} onChange={onChangeHandler} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"skill3\">Skill 3: </label>\r\n                            <input type=\"text\" name=\"skill3\" className=\"form-control\" value={myForm.skill3} onChange={onChangeHandler} />\r\n                        </div>\r\n                        <div>\r\n                            <input type=\"submit\" value=\"Edit Pet\" className=\"btn btn-info\" />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Edit;"],"mappings":"gZAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,IAAtB,KAAkC,kBAAlC,CACA,OAASC,SAAT,KAA0B,kBAA1B,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,CAAAC,KAAK,CAAI,CAClB,eAAgBF,SAAS,EAAzB,CAAQG,GAAR,YAAQA,GAAR,CACA,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CAEA;AACA,cAA4BF,QAAQ,CAAC,CACjCS,IAAI,CAAE,EAD2B,CAEjCC,IAAI,CAAE,EAF2B,CAGjCC,WAAW,CAAE,EAHoB,CAIjCC,MAAM,CAAE,EAJyB,CAKjCC,MAAM,CAAE,EALyB,CAMjCC,MAAM,CAAE,EANyB,CAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eASA;AACAjB,SAAS,CAAC,UAAM,CACZE,KAAK,CAACgB,GAAN,CAAU,kCAAoCV,GAA9C,EACKW,IADL,CACU,SAAAC,GAAG,QAAIH,UAAS,CAACG,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAb,EADb,EAEKC,KAFL,CAEW,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFd,EAGH,CAJQ,CAIN,CAACf,GAAD,CAJM,CAAT,CAOA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOyB,KAAP,eAAcC,QAAd,eAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAAAC,CAAC,CAAI,CACzBZ,SAAS,gCAAMD,MAAN,wBAAea,CAAC,CAACC,MAAF,CAASpB,IAAxB,CAA+BmB,CAAC,CAACC,MAAF,CAASC,KAAxC,GAAT,CACH,CAFD,CAIA;AACA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAAAH,CAAC,CAAI,CAC1BA,CAAC,CAACI,cAAF,GACA/B,KAAK,CAACgC,GAAN,CAAU,yCAA2C1B,GAArD,CAA0DQ,MAA1D,CACI;AADJ,CAEKG,IAFL,CAEU,SAAAC,GAAG,CAAI,CACT,GAAIA,GAAG,CAACC,IAAJ,CAASK,KAAb,CAAoB,CAChBC,QAAQ,CAACP,GAAG,CAACC,IAAJ,CAASK,KAAT,CAAeS,MAAhB,CAAR,CACH,CAFD,IAEO,CACH;AACA1B,QAAQ,CAAC,GAAD,CAAR,CACH,CACJ,CATL,EAUKa,KAVL,CAUW,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAVd,EAWH,CAbD,CAeA,mBACI,oCACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,eAAQ,SAAS,CAAC,4BAAlB,kBAAb,EADJ,cAEI,kDAFJ,cAGI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAM,QAAQ,CAAES,gBAAhB,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,MAAf,wBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,SAAS,CAAC,cAAzC,CAAwD,KAAK,CAAEhB,MAAM,CAACN,IAAtE,CAA4E,QAAQ,CAAEkB,eAAtF,EAFJ,CAGKF,KAAK,CAAChB,IAAN,cAAa,cAAM,SAAS,CAAC,aAAhB,eAAgCgB,KAAK,CAAChB,IAAN,CAAW0B,OAA3C,OAAb,CAA2E,EAHhF,GADJ,cAMI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,MAAf,wBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,SAAS,CAAC,cAAzC,CAAwD,KAAK,CAAEpB,MAAM,CAACL,IAAtE,CAA4E,QAAQ,CAAEiB,eAAtF,EAFJ,CAGKF,KAAK,CAACf,IAAN,cAAa,cAAM,SAAS,CAAC,aAAhB,eAAgCe,KAAK,CAACf,IAAN,CAAWyB,OAA3C,OAAb,CAA2E,EAHhF,GANJ,cAWI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,aAAf,+BADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,aAAxB,CAAsC,SAAS,CAAC,cAAhD,CAA+D,KAAK,CAAEpB,MAAM,CAACJ,WAA7E,CAA0F,QAAQ,CAAEgB,eAApG,EAFJ,CAGKF,KAAK,CAACd,WAAN,cAAoB,cAAM,SAAS,CAAC,aAAhB,eAAgCc,KAAK,CAACd,WAAN,CAAkBwB,OAAlD,OAApB,CAAyF,EAH9F,GAXJ,cAgBI,0CAhBJ,cAiBI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,QAAf,uBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,QAAxB,CAAiC,SAAS,CAAC,cAA3C,CAA0D,KAAK,CAAEpB,MAAM,CAACH,MAAxE,CAAgF,QAAQ,CAAEe,eAA1F,EAFJ,GAjBJ,cAqBI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,QAAf,uBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,QAAxB,CAAiC,SAAS,CAAC,cAA3C,CAA0D,KAAK,CAAEZ,MAAM,CAACF,MAAxE,CAAgF,QAAQ,CAAEc,eAA1F,EAFJ,GArBJ,cAyBI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,QAAf,uBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,QAAxB,CAAiC,SAAS,CAAC,cAA3C,CAA0D,KAAK,CAAEZ,MAAM,CAACD,MAAxE,CAAgF,QAAQ,CAAEa,eAA1F,EAFJ,GAzBJ,cA6BI,kCACI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,UAA3B,CAAsC,SAAS,CAAC,cAAhD,EADJ,EA7BJ,GADJ,EADJ,EAHJ,GADJ,CA2CH,CAvFD,CAyFA,cAAetB,KAAf"},"metadata":{},"sourceType":"module"}